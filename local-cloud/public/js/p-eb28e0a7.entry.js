import{h as n,F as e,r as o,d as i}from"./p-b76cbb69.js";const t=()=>n(e,null,n("ion-header",null,n("ion-toolbar",null,n("ion-title",null,"Perfil"),n("ion-buttons",{slot:"end"},n("ion-menu-toggle",null,n("ion-button",null,n("ion-icon",{slot:"icon-only",name:"return-up-forward"})))))),n("ion-content",null,n("ion-progress-bar",{type:"indeterminate"}),n("ion-list",{inset:true},n("ion-item",null,n("ion-input",{label:"Nombre de usuario:","label-placement":"floating",disabled:true})),n("ion-item",null,n("ion-input",{label:"Nombre completo:","label-placement":"floating"})),n("ion-item",null,n("ion-input",{label:"Correo electrónico:","label-placement":"floating",type:"email"})),n("ion-item",null,n("ion-input",{label:"Teléfono:","label-placement":"floating",type:"tel"})),n("ion-item",null,n("ion-button",{slot:"end",color:"dark",fill:"outline"},"Guardar"))),n("ion-list",{inset:true},n("ion-item",null,n("ion-input",{label:"Contraseña actual:","label-placement":"floating",type:"password"})),n("ion-item",null,n("ion-input",{label:"Nueva contraseña:","label-placement":"floating",type:"password"})),n("ion-item",null,n("ion-input",{label:"Repite la contraseña:","label-placement":"floating",type:"password"})),n("ion-item",null,n("ion-button",{slot:"end",color:"dark",fill:"outline"},"Cambiar contraseña")))),n("ion-footer",null,n("ion-toolbar",null,n("ion-buttons",{slot:"end"},n("ion-button",null,n("ion-icon",{slot:"icon-only",name:"log-out"}))))));const a=()=>n(e,null,n("ion-header",null,n("ion-toolbar",null,n("ion-title",null,"Ajustes"),n("ion-buttons",{slot:"end"},n("ion-menu-toggle",null,n("ion-button",null,n("ion-icon",{slot:"icon-only",name:"return-up-forward"})))))),n("ion-content",null,n("ion-list",{inset:true},n("ion-item",null,n("ion-select",{label:"Animaciones",placeholder:"Selecciona una opción",interface:"popover","cancel-text":"Cancelar"},n("ion-select-option",{"aria-label":"Habilitadas",value:""},"Habilitadas"),n("ion-select-option",{"aria-label":"Deshabilitadas",value:"false"},"Deshabilitadas"))),n("ion-item",null,n("ion-select",{label:"Diseño",placeholder:"Selecciona una opción",interface:"popover","cancel-text":"Cancelar"},n("ion-select-option",{"aria-label":"Automático",value:""},"Automático"),n("ion-select-option",{"aria-label":"IOS",value:"ios"},"IOS"),n("ion-select-option",{"aria-label":"Material Design",value:"md"},"Material Design"))),n("ion-item",null,n("ion-input",{label:"Texto de botón atrás","label-placement":"floating"})),n("ion-item",null,n("ion-button",{slot:"end",color:"dark",fill:"outline"},"Aplicar cambios")))));const l=async n=>{const e=n.querySelector("ion-progress-bar");const o=n.querySelectorAll("ion-input");const i=o.item(0);const t=o.item(1);const a=o.item(2);const l=o.item(3);const c=o.item(4);const s=o.item(5);const d=o.item(6);const b=n.querySelectorAll("ion-button");const r=b.item(1);const u=b.item(2);const f=b.item(3);u.addEventListener("click",(async()=>{const n={current_password:c.value,new_password:s.value,confirm_password:d.value};const o=Object.values(n);if(o.includes("")){return}if(o[1]!==o[2]){const n=await window.alertController.create({message:"Las contraseñas no coinciden",buttons:["Aceptar"]});await n.present();return}e.style.display="block";try{delete n["confirm_password"];const e=await window.connectors.profile.updatePassword(n);if(e.ok===false){const n=await window.alertController.create({message:e.message,buttons:["Aceptar"]});await n.present()}else{c.value="";s.value="";d.value=""}}catch(n){console.log(n)}e.style.display="none"}));f.addEventListener("click",(async()=>{await(await window.loadingController.create({message:"Cerrando sesión ..."})).present();await window.connectors.auth.logOut();localStorage.clear();window.location.reload()}));const{name:p,full_name:m,email:w,phone:y}=await window.connectors.profile.info();i.value=p;t.value=m;a.value=w;l.value=y;e.style.display="none";r.addEventListener("click",(async()=>{const n={full_name:t.value,email:a.value,phone:l.value};if(p!==i.value){n["user_name"]=i.value}if(!Object.values(n).includes("")){e.style.display="block";const{code:o,message:i}=await window.connectors.profile.update(n);if(o){window.alertController.create({header:"Ocurrió algo",message:i,buttons:["Aceptar"]}).then((n=>n.present()))}e.style.display="none"}}))};const c=n=>{const e=n.querySelectorAll("ion-select");const o=e.item(0);const i=e.item(1);const t=n.querySelector("ion-input");const a=n.querySelectorAll("ion-button").item(1);const l=window.Ionic.config.get("mode")||"";const c=window.Ionic.config.get("backButtonText")||"";const s=window.Ionic.config.get("animated")||true;o.value=!s?"false":"";t.value=c;i.value=l;a.addEventListener("click",(async()=>{const n={};if(o.value){n["animated"]=false}if(i.value){n["mode"]=i.value}if(t.value){n["backButtonText"]=t.value}await window.connectors.profile.setConfig({ionic:n});window.location.reload()}))};const s="app-profile ion-thumbnail{margin:0 auto;--size:140px;--border-radius:14px}app-menu-profile,app-menu-settings{display:contents}ion-split-pane{--side-width:350px;--side-max-width:350px}";const d=s;const b=class{constructor(n){o(this,n);this.apps=undefined}componentDidLoad(){if("connectors"in window){this.init()}else{document.addEventListener("onReady",this.init.bind(this))}}async init(){this.apps=await window.connectors.profile.listApps();const n=this.el.querySelectorAll("ion-tab");l(n.item(0));c(n.item(1))}_handlerLaunchApp(n){const e=`/app/${n}`;console.log(e);window.open(e,null,"popup,noopener,noopener")}render(){return n("ion-app",{key:"1ddbc71ef0ff134ee841fb52a58f955f6c6ed419"},n("ion-content",{key:"62d92b02613cac89ddde1b0a41118ced426c69d3",class:"ion-padding"},n("ion-split-pane",{key:"54966a99844e30a342588a118749374d182cd227",when:"md","content-id":"main-content"},n("ion-menu",{key:"c636f5c3d090a5c5dbc740315717e8ba6c475051",side:"end","content-id":"main-content"},n("ion-content",{key:"efd09f3403739488de8c83467ac7852917614961",class:"ion-padding"},n("ion-tabs",{key:"1ed7e77ec39f70beffa8f409d825d984d23b4a0c"},n("ion-tab",{key:"4a2bc1525c814ec6aa488fd7a2413524da5b91f5",tab:"profile"},n(t,{key:"06ec07d969c45c2c634ac11793859830d4905aff"})),n("ion-tab",{key:"d2cc9e05d52a9074793103c25e33c1adc9972c0f",tab:"ionic"},n(a,{key:"c1ddff86195aba155c6d901c15c61b18b23674b3"})),n("ion-tab-bar",{key:"6e1ca63f2043ef89d59e301eb3fa88918b39e9f9",slot:"bottom",color:"light"},n("ion-tab-button",{key:"036ca4db154ed397c08e0890448c2645d78ccfd0",tab:"profile"},n("ion-icon",{key:"63788234da6a40c5f8f443d1fd3dc6deb22b0901",name:"person-circle-outline"}),"Perfil"),n("ion-tab-button",{key:"cfb93a19934e3ef9457b6af3201ef581b6939d87",tab:"ionic"},n("ion-icon",{key:"cf07037e8b70ec6e18fb1c7a97b7451304c77f97",name:"logo-ionic"}),"Interfaz"))))),n("div",{key:"31890ff5164edbeff4e3494f2da523744234514c",class:"ion-page",id:"main-content"},n("ion-header",{key:"5a657e45fb1b1e4219fa962f54d3753b5a1e49f8"},n("ion-toolbar",{key:"ee381eb0f7630d5fbb5bc09a2c28365f7146c56b"},n("ion-title",{key:"6a57a15d321a34007fd935117c408030deade469"},"Apps"),n("ion-buttons",{key:"b70e33fdb578f6c644b96f8155b43720191640a8",slot:"end"},n("ion-menu-button",{key:"291e4da7d2944aa0fb2ea74c6fd53d56b3831aef"}))),this.apps===undefined&&n("ion-progress-bar",{key:"81dd6ef59a3b4ea9af29984de086d2aea06b9b11",type:"indeterminate"})),n("ion-content",{key:"ab5e2723e442ad3d34b3938d6306ddb5be0b5765",class:"ion-padding"},n("ion-grid",{key:"18dcf2c5fbc2f94432f3c1067d6ed13f81edc50a"},n("ion-row",{key:"2ae9da440c60ae677c9118e47734721b4e44fe4d",id:"app-list"},Array.isArray(this.apps)&&!this.apps.length&&n("ion-col",{key:"fd794424794207518d1bbe53a6598517b796258f"},n("ion-text",{key:"100855147c1416d2aff6f9d3748b971f25d47bed",color:"dark",class:"ion-text-center"},n("h1",{key:"c4b34b5ebf7a7c7e2d9412d69c1a6f81107dd3c1"},"No hay apps...!"))),Array.isArray(this.apps)&&this.apps.length>0&&this.apps.map((e=>n("ion-col",{size:"12",sizeSm:"6",sizeMd:"12",sizeLg:"6",sizeXl:"3"},n("ion-card",null,n("ion-card-header",null,n("ion-card-title",null,e.title),n("ion-card-subtitle",null,e.author)),n("ion-card-content",null,n("p",null,e.description)),n("ion-button",{fill:"clear",onClick:()=>this._handlerLaunchApp(e.package_name)},"Iniciar"))))))))))))}get el(){return i(this)}};b.style=d;export{b as lco_dashboard};
//# sourceMappingURL=p-eb28e0a7.entry.js.map