{
  "version": 3,
  "sources": ["../../models/index.ts", "../../node_modules/px.io/injectables/models.js", "../../node_modules/px.io/injectables/emitters.js", "../../models/apps.ts", "../../models/builder.ts", "../../models/dev-mode.ts", "../../models/fs.ts", "../../models/shared.ts", "../../models/permissions.ts", "../../models/recycle-bin.ts", "../../models/sources.ts", "../../models/storages.ts", "../../models/users.ts"],
  "sourcesContent": ["export * from './apps'\nexport * from './builder'\nexport * from './dev-mode'\nexport * from './fs'\nexport * from './shared'\nexport * from './permissions'\nexport * from './recycle-bin'\nexport * from './sources'\nexport * from './storages'\nexport * from './users'", "const libsPath = './libs.js'\nexport const libraries = require(libsPath).libraries\nexport function Library(nameLib) {\n  return (target, propertyKey) => {\n    Object.defineProperty(target, propertyKey, {\n      get() {\n        return libraries.get(nameLib)\n      }\n    })\n  }\n}", "export class Emitter {\n  #CALLBACKS = {}\n  on(callback) {\n    const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      const r = Math.random() * 16 | 0;\n      const v = c == 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16)\n    })\n    this.#CALLBACKS[uuid] = callback\n    return uuid\n  }\n  off(uuid) {\n    delete this.#CALLBACKS[uuid]\n  }\n  emit(args) {\n    const callbacks = Object.values(this.#CALLBACKS)\n    for (const callback of callbacks) {\n      callback(args)\n    }\n  }\n}\nexport class Emitters {\n  #EMITTERS = new Map()\n  on(event, callback) {\n    if (!this.#EMITTERS.has(event)) {\n      this.#EMITTERS.set(event, Emitters.createEmitter())\n    }\n    return this.#EMITTERS.get(event)?.on(callback) || ''\n  }\n  off(event, uuid) {\n    this.#EMITTERS.get(event)?.off(uuid)\n  }\n  emit(event, args) {\n    this.#EMITTERS.get(event)?.emit(args)\n  }\n}\nEmitters.createEmitter = () => {\n  return new Emitter()\n}\nexport const moduleEmitters = new Emitters()", "import type { Database } from 'sqlite3'\nimport fs from 'node:fs'\nimport path from 'node:path'\nimport { v4 } from 'uuid'\nimport unzipper from 'unzipper'\n\ndeclare const Library: PXIO.LibraryDecorator\n\nexport class AppsModel {\n  @Library('database') private database: Database\n  @Library('paths') public paths: Paths.Class\n  private isJSON = (text: string): boolean => /^[\\],:{}\\s]*$/.test(text.replace(/\\\\[\"\\\\\\/bfnrtu]/g, '@').replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']').replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))\n  private parse = (results: Apps.Result[]): Apps.App[] => results.map(result => ({\n    package_name: result.package_name,\n    title: result.title,\n    description: result.description,\n    author: result.author,\n    extensions: (result.extensions || '').split('|'),\n    useStorage: result.use_storage === 1 ? true : false,\n    useTemplate: (result as any).use_template === 1 ? true : false\n  }))\n  public getAppsByUID(uid: Users.User['uid']): Promise<Apps.App[]> {\n    return new Promise(resolve => this.database.all<Apps.Result>(\n      'SELECT apps.package_name, apps.title, apps.description, apps.author, apps.use_storage, apps.use_template FROM users_to_apps INNER JOIN apps ON users_to_apps.package_name = apps.package_name WHERE users_to_apps.uid = ?;',\n      [uid],\n      (error, rows) => error ? resolve([]) : resolve(this.parse(rows))\n    ))\n  }\n  public getApps(): Promise<Apps.App[]> {\n    return new Promise(resolve => this.database.all<Apps.Result>(\n      'SELECT * FROM apps',\n      (error, rows) => error ? resolve([]) : resolve(this.parse(rows))\n    ))\n  }\n  public getAppByPackageName(package_name: string): Promise<Apps.Result | null> {\n    return new Promise(resolve => this.database.all<Apps.Result>(\n      'SELECT * FROM apps WHERE package_name = ?',\n      [package_name],\n      (error, rows) => error ? resolve(null) : resolve(rows[0])\n    ))\n  }\n  public async install(package_name: string, data: Buffer): Promise<InstallError | true> {\n    const tempDir = path.join(this.paths.apps, 'temp', v4())\n    fs.mkdirSync(tempDir, { recursive: true })\n    await unzipper.Open\n      .buffer(data)\n      .then(d => d.extract({ path: tempDir }))\n    let useTemplate = false\n    let template = '{% layout \"layout.liquid\" %}'\n    const headPath = path.join(tempDir, 'head.html')\n    if (fs.existsSync(headPath)) {\n      useTemplate = true\n      const headContent = fs.readFileSync(headPath, 'utf8')\n      template += `{% block head %}${headContent}{% endblock %}`\n    }\n    const bodyPath = path.join(tempDir, 'body.html')\n    if (fs.existsSync(bodyPath)) {\n      useTemplate = true\n      const bodyContent = fs.readFileSync(bodyPath, 'utf8')\n      template += `{% block body %}${bodyContent}{% endblock %}`\n    }\n    const manifestPath = path.join(tempDir, 'manifest.json')\n    if (!fs.existsSync(manifestPath)) {\n      fs.rmSync(tempDir, { recursive: true, force: true })\n      return {\n        code: 'manifest-not-exist',\n        message: 'El paquete de instalaci\u00F3n no cuenta con un archivo manifest.json'\n      }\n    }\n    let manifestContent = fs.readFileSync(manifestPath, 'utf-8')\n    if (this.isJSON(manifestContent)) {\n      manifestContent = JSON.parse(manifestContent)\n    } else {\n      fs.rmSync(tempDir, { recursive: true, force: true })\n      return {\n        code: 'manifest-invalid',\n        message: 'El archivo manifest.json no es v\u00E1lido.'\n      }\n    }\n    const manifestKeys = Object.keys(manifestContent)\n    if (!manifestKeys.includes('title')) {\n      fs.rmSync(tempDir, { recursive: true, force: true })\n      return {\n        code: 'manifest-title-required',\n        message: 'El archivo manifest.json no contiene un t\u00EDtulo.'\n      }\n    }\n    if (!manifestKeys.includes('author')) {\n      fs.rmSync(tempDir, { recursive: true, force: true })\n      return {\n        code: 'manifest-author-required',\n        message: 'El archivo manifest.json no contiene un autor.'\n      }\n    }\n    const { title, description = 'Sin descripci\u00F3n', author, permissions: permissionList = {}, sources = {}, extensions = [], 'use-storage': useStorage = false } = manifestContent as any\n    const permissions: Apps.New['permissions'] = Object.keys(permissionList).map(api => ({\n      api,\n      justification: permissionList[api]\n    }))\n    await new Promise(resolve => this.database.run(\n      'INSERT INTO apps (package_name, title, description, author, extensions, use_storage, use_template) VALUES (?, ?, ?, ?, ?, ?, ?);',\n      [package_name, title, description, author, extensions.join('|'), useStorage ? 1 : 0, useTemplate ? 1 : 0],\n      resolve\n    ))\n    for (const permission of permissions) {\n      await new Promise(resolve => this.database.run(\n        'INSERT INTO permissions (package_name, api, justification, active) VALUES (?, ?, ?, ?)',\n        [package_name, permission.api, permission.justification || 'Sin justificaci\u00F3n.', true],\n        resolve\n      ))\n    }\n    for (const [name, srcs] of Object.entries(sources)) {\n      if (['image', 'media', 'object', 'script', 'style', 'worker', 'font', 'connect'].includes(name)) {\n        for (const src of srcs as any[]) {\n          await new Promise(resolve => this.database.run(\n            'INSERT INTO secure_sources (package_name, type, source, justification, active) VALUES (?, ?, ?, ?, ?)',\n            [package_name, name, src.source, src.justification || 'Sin justificaci\u00F3n.', true],\n            resolve\n          ))\n        }\n      }\n    }\n    fs.cpSync(path.join(tempDir, 'code'), this.paths.getApp(package_name), { recursive: true })\n    if (useStorage) {\n      fs.mkdirSync(this.paths.getAppGlobalStorage(package_name), { recursive: true })\n    }\n    if (useTemplate) {\n      if (!fs.existsSync(this.paths.appsTemplates)) {\n        fs.mkdirSync(this.paths.appsTemplates, { recursive: true })\n      }\n      fs.writeFileSync(path.join(this.paths.appsTemplates, `${package_name.replace(/\\./g, '-')}.liquid`), template, 'utf8')\n    }\n    fs.rmSync(tempDir, { recursive: true, force: true })\n    return true\n  }\n  public async uninstall(package_name: string): Promise<void> {\n    await new Promise(resolve => this.database.run(\n      'DELETE FROM secure_sources WHERE package_name = ?',\n      [package_name],\n      resolve\n    ))\n    await new Promise(resolve => this.database.run(\n      'DELETE FROM permissions WHERE package_name = ?',\n      [package_name],\n      resolve\n    ))\n    await new Promise(resolve => this.database.run(\n      'DELETE FROM users_to_apps WHERE package_name = ?',\n      [package_name],\n      resolve\n    ))\n    await new Promise(resolve => this.database.run(\n      'DELETE FROM apps WHERE package_name = ?',\n      [package_name],\n      resolve\n    ))\n    const appStorage = this.paths.getAppStorage(package_name)\n    if (fs.existsSync(appStorage)) {\n      fs.rmSync(appStorage, { force: true, recursive: true })\n    }\n    const appPath = this.paths.getApp(package_name)\n    fs.rmSync(appPath, { recursive: true, force: true })\n    const templatePath = path.join(this.paths.appsTemplates, `${package_name.replace(/\\./g, '-')}.liquid`)\n    if (fs.existsSync(templatePath)) {\n      fs.rmSync(templatePath, { recursive: true, force: true })\n    }\n  }\n}\n\ninterface InstallError {\n  code: string\n  message: string\n}", "declare const Library: PXIO.LibraryDecorator\n\nexport class BuilderModel {\n  get privateAPIList() {\n    return this.builder.privateAPIList\n  }\n  get dashAPIList() {\n    return this.builder.dashAPIList\n  }\n  get publicAPIList() {\n    return this.builder.publicAPIList\n  }\n  @Library('builder') private builder: BuilderConnector.Class\n  build(opts?: BuildOptions): string {\n    if (opts) {\n      return this.builder.build(opts)\n    }\n    return this.builder.build({ token: '', key: '' })\n  }\n}\n\ninterface BuildOptions {\n  token: string\n  key: string\n  apis: string[]\n}", "import type { Database } from 'sqlite3'\nimport fs from 'node:fs'\nimport { v4 } from 'uuid'\n\ndeclare const Library: PXIO.LibraryDecorator\n\nexport class DevModeModel {\n  @Library('devMode') public devMode: DevMode.Class\n  @Library('database') public database: Database\n  @Library('paths') paths: Paths.Class\n  public getUser(): Users.User | undefined {\n    const PASSWD_CONTENT = fs.readFileSync(this.paths.passwd, 'utf8')\n    const PASSWD_LINES = PASSWD_CONTENT.split('\\n').filter(line => line !== '')\n    const USER_LIST = PASSWD_LINES.map(line => line.split(':'))\n    const result = USER_LIST.find(us => us[0] === this.devMode.config.user)\n    if (result) {\n      const name = result[0]\n      const [full_name = '', email = '', phone = ''] = result[4].split(',')\n      return {\n        uid: Number(result[2]),\n        name,\n        full_name,\n        email,\n        phone\n      }\n    }\n  }\n  public async getApps(uid: Users.User['uid']): Promise<LocalCloud.SessionData['apps']> {\n    const apps: Apps.App[] = await new Promise(resolve => this.database.all<Apps.Result>(\n      'SELECT apps.package_name, apps.title, apps.description, apps.author FROM users_to_apps INNER JOIN apps ON users_to_apps.package_name = apps.package_name WHERE users_to_apps.uid = ?;',\n      [uid || ''],\n      (error, rows) => error ? resolve([]) : resolve(rows.map(result => ({\n        package_name: result.package_name,\n        title: result.title,\n        description: result.description,\n        author: result.author,\n        extensions: (result.extensions || '').split('|')\n      })))\n    ))\n    const appList: LocalCloud.SessionData['apps'] = {}\n    for (const app of apps) {\n      const sessionApp: LocalCloud.SessionApp = {\n        token: v4(),\n        ...app,\n        secureSources: [],\n        permissions: []\n      }\n      appList[app.package_name] = sessionApp\n    }\n    return appList\n  }\n}", "import fs from 'node:fs'\nimport path from 'node:path'\n\ndeclare const Library: PXIO.LibraryDecorator\n\nexport class FileSystemModel {\n  @Library('paths') private paths: Paths.Class\n  @Library('process') private run: Process.Run\n  public resolveFileOrDirectory(result: string | boolean): boolean | FileSystem.ItemInfo[] | FileSystem.ItemInfo {\n    if (typeof result === 'boolean') {\n      return false\n    }\n    const stat = fs.statSync(result)\n    if (stat.isDirectory()) {\n      const items = fs.readdirSync(result)\n      return items.map(item => {\n        const stat = fs.statSync(path.join(result, item))\n        return {\n          name: item,\n          size: stat.size,\n          lastModification: stat.mtime,\n          creationDate: stat.birthtime,\n          isFile: !stat.isDirectory()\n        }\n      })\n    }\n    return {\n      name: path.basename(result),\n      size: stat.size,\n      lastModification: stat.mtime,\n      creationDate: stat.birthtime,\n      isFile: !stat.isDirectory()\n    }\n  }\n  public lsSharedDirectory(path: string[]): boolean | FileSystem.ItemInfo[] | FileSystem.ItemInfo {\n    const sharedPath = this.paths.resolveSharedPath({ segments: path })\n    return this.resolveFileOrDirectory(sharedPath)\n  }\n  public lsUserDirectory(name: Users.User['name'], path: string[]): boolean | FileSystem.ItemInfo[] | FileSystem.ItemInfo {\n    const userPath = this.paths.resolveUserPath({ segments: path, name })\n    return this.resolveFileOrDirectory(userPath)\n  }\n  public resolveSharedFile(pathFile: string[]): string | boolean {\n    const result = this.paths.resolveSharedPath({ segments: pathFile })\n    if (typeof result === 'boolean') {\n      return false\n    }\n    const stat = fs.statSync(result)\n    if (stat.isDirectory()) {\n      return false\n    }\n    return result\n  }\n  public resolveUserFile(name: Users.User['name'], pathFile: string[]): string | boolean {\n    const result = this.paths.resolveUserPath({ name, segments: pathFile })\n    if (typeof result === 'boolean') {\n      return false\n    }\n    const stat = fs.statSync(result)\n    if (stat.isDirectory()) {\n      return false\n    }\n    return result\n  }\n  public async writeToShared(segments: string[], data: Buffer): Promise<void> {\n    const filePath = this.paths.resolveSharedPath({ segments, verify: false }) as string\n    fs.writeFileSync(filePath, data, { encoding: 'utf-8' })\n    await this.run({\n      title: 'Set Permission To Shared Item',\n      command: 'chown',\n      args: [':lc', filePath]\n    })\n  }\n  public async writeToUser(name: Users.User['name'], segments: string[], data: Buffer): Promise<void> {\n    const filePath = this.paths.resolveUserPath({ name, segments, verify: false }) as string\n    fs.writeFileSync(filePath, data, { encoding: 'utf-8' })\n    await this.run({\n      title: 'Set Owner To User',\n      command: 'chown',\n      args: [name, filePath]\n    })\n  }\n  public async mkdirToShared(segments: string[]): Promise<void> {\n    const dirPath = this.paths.resolveSharedPath({ segments, verify: false }) as string\n    if (!fs.existsSync(dirPath)) {\n      fs.mkdirSync(dirPath, { recursive: true })\n      await this.run({\n        title: 'Set Permission To Shared Dir',\n        command: 'chown',\n        args: ['-R', 'lc', dirPath]\n      })\n    }\n  }\n  public async mkdirToUser(name: Users.User['name'], segments: string[]): Promise<void> {\n    const dirPath = this.paths.resolveUserPath({ name, segments, verify: false }) as string\n    if (!fs.existsSync(dirPath)) {\n      fs.mkdirSync(dirPath, { recursive: true })\n      await this.run({\n        title: 'Set Permission To User Dir',\n        command: 'chown',\n        args: [name, dirPath]\n      })\n    }\n  }\n  public rmToShared(segments: string[]) {\n    const dirPath = this.paths.resolveSharedPath({ segments })\n    if (typeof dirPath === 'string') {\n      fs.rmSync(dirPath, { force: true, recursive: true })\n    }\n  }\n  public rmToUser(name: Users.User['name'], segments: string[]) {\n    const dirPath = this.paths.resolveUserPath({ name, segments })\n    if (typeof dirPath === 'string') {\n      fs.rmSync(dirPath, { force: true, recursive: true })\n    }\n  }\n  public resolvePath(name: Users.User['name'], pth: string[], verify: boolean): string | boolean {\n    const segments = [...pth]\n    const base = segments.shift()\n    let result: string | boolean = ''\n    if (base === 'shared') {\n      result = this.paths.resolveSharedPath({ segments, verify })\n    } else {\n      result = this.paths.resolveUserPath({ name, segments, verify })\n    }\n    return result\n  }\n  public async copy(name: string, origin: string[], dest: string[], move: boolean = false): Promise<void> {\n    const originPath = this.resolvePath(name, origin, true)\n    if (typeof originPath === 'boolean') {\n      return\n    }\n    const newDest = [...dest, origin[origin.length - 1]]\n    let destPath = this.resolvePath(name, newDest, false) as string\n    const statOrigin = fs.statSync(originPath)\n    const isFile = statOrigin.isFile()\n    let dp = ''\n    if (isFile) {\n      while (fs.existsSync(destPath)) {\n        const segments = destPath.split('.')\n        const ext = segments.pop()\n        destPath = `${segments.join('.')}-copia.${ext}`\n      }\n      fs.copyFileSync(originPath, destPath)\n      dp = destPath\n    } else {\n      while (fs.existsSync(destPath)) {\n        destPath += ' - copia'\n      }\n      fs.cpSync(originPath, destPath, { recursive: true })\n      dp = destPath\n    }\n    if (dp.split(this.paths.shared).length === 1) {\n      await this.run({\n        title: 'Set Permission To User Dir',\n        command: 'chown',\n        args: [name, dp]\n      })\n    } else {\n      await this.run({\n        title: 'Set Permission To Shared Item',\n        command: 'chown',\n        args: [':lc', dp]\n      })\n    }\n    if (move) {\n      fs.rmSync(originPath, { recursive: true, force: true })\n    }\n  }\n  public rename(uuid: string, path: string[], newName: string) {\n    const oldPath = this.resolvePath(uuid, path, true)\n    if (typeof oldPath === 'boolean') {\n      return\n    }\n    const segments = [...path]\n    segments.pop()\n    let newPath = this.resolvePath(uuid, [...segments, newName], true)\n    if (typeof newPath === 'string') {\n      return\n    }\n    newPath = this.resolvePath(uuid, [...segments, newName], false) as string\n    fs.renameSync(oldPath, newPath)\n  }\n}", "import type { Database } from 'sqlite3'\n\ndeclare const Library: PXIO.LibraryDecorator\n\nexport class SharedModel {\n  @Library('database') private database: Database\n  public async find(query?: Partial<Shared.Shared>): Promise<Shared.Shared[]> {\n    let strQuery = 'SELECT * FROM shared'\n    const opts: any[] = []\n    if (query) {\n      const where: string[] = []\n      const entries = Object.entries(query)\n      for (let [key, value] of entries) {\n        if (key === 'path') {\n          opts.push((value as string[]).join('|'))\n        } else {\n          opts.push(value)\n        }\n        where.push(`${key} = ?`)\n      }\n      strQuery += ` WHERE ${where.join(' AND ')};`\n    }\n    const results = await new Promise<Shared.Result[]>(resolve => this.database.all<Shared.Result>(\n      strQuery,\n      opts,\n      (error, rows) => error ? resolve([]) : resolve(rows)\n    ))\n    return results.map(item => ({\n      id: item.id,\n      uid: item.uid,\n      path: item.path.split('|')\n    }))\n  }\n  public create(shared: Shared.Shared): Promise<void> {\n    return new Promise(resolve => this.database.run(\n      'INSERT INTO shared ( id, uid, path ) VALUES (?, ?, ?)',\n      [shared.id, shared.uid, shared.path.join('|')],\n      resolve\n    ))\n  }\n  public delete(id: Shared.Shared['id']): Promise<void> {\n    return new Promise(resolve => this.database.run(\n      'DELETE FROM shared WHERE id = ?',\n      [id],\n      resolve\n    ))\n  }\n}", "import type { Database } from 'sqlite3'\n\ndeclare const Library: PXIO.LibraryDecorator\n\nexport class PermissionsModel {\n  @Library('database') private database: Database\n  public async find(query?: Partial<Permissions.Permission>): Promise<Permissions.Permission[]> {\n    let strQuery = 'SELECT * FROM permissions'\n    const values: any[] = []\n    if (query) {\n      const where: string[] = []\n      const entries = Object.entries(query)\n      for (const [key, value] of entries) {\n        where.push(`${key} = ?`)\n        values.push(value)\n      }\n      strQuery += ` WHERE ${where.join(' AND ')}`\n    }\n    const results = await new Promise<Permissions.Result[]>(resolve => this.database.all<Permissions.Result>(\n      strQuery,\n      values,\n      (error, rows) => error ? resolve([]) : resolve(rows)\n    ))\n    return results.map(result => ({\n      id: result.id_permission,\n      package_name: result.package_name,\n      api: result.api,\n      justification: result.justification,\n      active: result.active\n    }))\n  }\n  public async setActive(id: number, active: boolean): Promise<void> {\n    await new Promise(resolve => this.database.run(\n      'UPDATE permissions set active = ? WHERE id_permission = ?',\n      [active, id],\n      resolve\n    ))\n  }\n}", "import type { Database } from 'sqlite3'\nimport fs from 'node:fs'\nimport { v4 } from 'uuid'\n\ndeclare const Library: PXIO.LibraryDecorator\n\nexport class RecycleBinModel {\n  @Library('database') private database: Database\n  @Library('paths') private paths: Paths.Class\n  public async moveToRecycleBin(user: Users.User, strPath: string, path: string[]) {\n    const id = v4()\n    const newPath = this.paths.getRecycleBinItem(user.name, id)\n    fs.cpSync(strPath, newPath, { recursive: true })\n    fs.rmSync(strPath, { recursive: true, force: true })\n    const date = new Date()\n    const year = date.getFullYear()\n    const month = date.getMonth() + 1\n    const day = date.getDate()\n    const hours = date.getHours()\n    const minutes = date.getMinutes()\n    await new Promise<void>(resolve => this.database.run(\n      'INSERT INTO recycle_bin (id, uid, path, date) VALUES (?, ?, ?, ?)',\n      [id, user.uid, path.join('|'), `${year.toString()}/${month < 10 ? `0${month.toString()}` : month.toString()}/${day < 10 ? `0${day.toString()}` : day.toString()} ${hours < 10 ? `0${hours.toString()}` : hours.toString()}:${minutes < 10 ? `0${minutes.toString()}` : minutes.toString()}`],\n      resolve\n    ))\n  }\n  public async findByUID(uid: Users.User['uid']): Promise<RecycleBin.Item[]> {\n    const results = await new Promise<RecycleBin.Result[]>(resolve => this.database.all<RecycleBin.Result>(\n      'SELECT * FROM recycle_bin WHERE uid = ?',\n      [uid],\n      (error, rows) => error ? resolve([]) : resolve(rows)\n    ))\n    return results.map(item => ({\n      id: item.id,\n      uid: item.uid,\n      path: item.path.split('|'),\n      date: item.date\n    }))\n  }\n  public async findByID(id: RecycleBin.Item['id']): Promise<RecycleBin.Item | undefined> {\n    const item = await new Promise<RecycleBin.Result | undefined>(resolve => this.database.get<RecycleBin.Result>(\n      'SELECT * FROM recycle_bin WHERE id = ?',\n      [id],\n      (error, rows) => error ? resolve(undefined) : resolve(rows)\n    ))\n    let result: any = undefined\n    if (item) {\n      result = {\n        id: item.id,\n        uuid: item.uid,\n        path: item.path.split('|'),\n        date: item.date\n      }\n    }\n    return result\n  }\n  public async restore(name: Users.User['name'], id: RecycleBin.Item['id'], path: string) {\n    let newPath = path\n    const oldPath = this.paths.getRecycleBinItem(name, id)\n    const stat = fs.statSync(oldPath)\n    const isFile = stat.isFile()\n    if (isFile) {\n      while (fs.existsSync(newPath)) {\n        const segments = newPath.split('.')\n        const ext = segments.pop()\n        newPath = `${segments.join('.')}-restaurado.${ext}`\n      }\n    } else {\n      while (fs.existsSync(newPath)) {\n        newPath += '-restaurado'\n      }\n    }\n    fs.cpSync(oldPath, newPath, { recursive: true })\n    fs.rmSync(oldPath, { recursive: true, force: true })\n    await new Promise<void>(resolve => this.database.run(\n      'DELETE FROM recycle_bin WHERE id = ?',\n      [id],\n      resolve\n    ))\n  }\n  private deleteFromDB(uid: Users.User['uid'], id?: RecycleBin.Item['id']): Promise<void> {\n    let strQuery = 'DELETE FROM recycle_bin WHERE uid = ?'\n    const opts: any[] = [uid]\n    if (id) {\n      strQuery += ' AND id = ?'\n      opts.push(id)\n    }\n    return new Promise(resolve => this.database.run(\n      strQuery,\n      opts,\n      resolve\n    ))\n  }\n  public async delete(user: Users.User, id: RecycleBin.Item['id']) {\n    const path = this.paths.getRecycleBinItem(user.name, id)\n    fs.rmSync(path, { recursive: true, force: true })\n    await this.deleteFromDB(user.uid, id)\n  }\n  public async clean(user: Users.User) {\n    const path = this.paths.getRecycleBin(user.name)\n    fs.rmSync(path, { recursive: true, force: true })\n    await this.deleteFromDB(user.uid)\n  }\n}", "import type { Database } from 'sqlite3'\n\ndeclare const Library: PXIO.LibraryDecorator\n\nexport class SourcesModel {\n  @Library('database') private database: Database\n  public async find(query?: Partial<SecureSources.Source>): Promise<SecureSources.Source[]> {\n    let strQuery = 'SELECT * FROM secure_sources'\n    const values: any[] = []\n    if (query) {\n      const where: string[] = []\n      const entries = Object.entries(query)\n      for (const [key, value] of entries) {\n        where.push(`${key} = ?`)\n        values.push(value)\n      }\n      strQuery += ` WHERE ${where.join(' AND ')}`\n    }\n    const results = await new Promise<SecureSources.Result[]>(resolve => this.database.all<SecureSources.Result>(\n      strQuery,\n      values,\n      (error, rows) => error ? resolve([]) : resolve(rows)\n    ))\n    return results.map(result => ({\n      id: result.id_source,\n      package_name: result.package_name,\n      type: result.type,\n      source: result.source,\n      justification: result.justification,\n      active: result.active\n    }))\n  }\n  public async setActive(id: number, active: boolean): Promise<void> {\n    await new Promise(resolve => this.database.run(\n      'UPDATE secure_sources set active = ? WHERE id_source = ?',\n      [active ? 1 : 0, id],\n      resolve\n    ))\n  }\n}", "import fs from 'node:fs'\nimport path, { dirname } from 'node:path'\n\ndeclare const Library: PXIO.LibraryDecorator\n\nexport class StorageModel {\n  @Library('paths') private paths: Paths.Class\n  resolveTempGlobalItem(item: string) {\n    const path = this.paths.getAppGlobalStorageItem({ packageName: \"app-temp\", item })\n    return path\n  }\n  resolveTempUserItem(item: string) {\n    const path = this.paths.getAppUserStorageItem({ item, packageName: \"app-temp\", user: \"user-temp\" })\n    return path\n  }\n  resolveGlobalItem(packageName: string, item: string) {\n    const path = this.paths.getAppGlobalStorageItem({ packageName, item })\n    if (fs.existsSync(path)) {\n      return path\n    }\n  }\n  resolveUserItem(packageName: string, name: string, item: string) {\n    const path = this.paths.getAppUserStorageItem({ packageName, user: name, item })\n    if (fs.existsSync(path)) {\n      return path\n    }\n  }\n  loadStorage(path: string) {\n    if (fs.existsSync(path)) {\n      let contentStorage = fs.readFileSync(path, 'utf8') || '{}'\n      contentStorage = JSON.parse(contentStorage)\n      return contentStorage\n    }\n    return null\n  }\n  writeContent(pathStorage: string, content: any) {\n    const dirName = path.dirname(pathStorage)\n    if (!fs.existsSync(dirName)) {\n      fs.mkdirSync(dirName, { recursive: true })\n    }\n    let contentStorage = 'null'\n    if (content) {\n      contentStorage = JSON.stringify(content)\n    }\n    fs.writeFileSync(pathStorage, contentStorage, 'utf8')\n  }\n}", "import type { Database } from 'sqlite3'\nimport fs from 'node:fs'\nimport path from 'node:path'\nimport shellQuote from 'shell-quote'\nimport ini from 'ini'\n\ndeclare const Library: PXIO.LibraryDecorator\n\nexport class UsersModel {\n  @Library('paths') paths: Paths.Class\n  @Library('encrypt') encrypt: Encrypting.Class\n  @Library('database') private database: Database\n  @Library('process') private run: Process.Run\n  private loadConfig(name?: Users.User['name']) {\n    const SMB_CONFIG = fs.readFileSync(this.paths.samba, 'utf8')\n    const smbConfig = ini.parse(SMB_CONFIG)\n    if (name) {\n      return smbConfig[name]\n    }\n    return smbConfig\n  }\n  private async writeConfig(config: UserConfig): Promise<void> {\n    const smbStrConfig = ini.stringify(config)\n    fs.writeFileSync(this.paths.samba, smbStrConfig, 'utf8')\n    await this.run({\n      title: 'Restart Samba',\n      command: '/etc/init.d/smbd',\n      args: ['restart']\n    })\n  }\n  private async setConfig(name: string, config: UserConfig): Promise<void> {\n    const smbConfig = this.loadConfig()\n    smbConfig[name] = {}\n    const entries = Object.entries(config)\n    for (const [key, value] of entries) {\n      smbConfig[name][key] = value\n    }\n    await this.writeConfig(smbConfig)\n  }\n  private loadGroup(): Group | undefined {\n    const GROUP_CONTENT = fs.readFileSync(this.paths.groups, 'utf8')\n    const GROUP_LINES = GROUP_CONTENT.split('\\n').filter(line => line !== '')\n    const GROUPS = GROUP_LINES\n      .map(line => line.split(':'))\n      .map(line => ({\n        id: Number(line[2]),\n        name: line[0],\n        users: (line[3]).split(',')\n      }))\n    return GROUPS.filter(group => group.name === 'lc')[0]\n  }\n  private loadUserList(filter: boolean = false): Users.User[] {\n    const { users } = this.loadGroup() as Group\n    const PASSWD_CONTENT = fs.readFileSync(this.paths.passwd, 'utf8')\n    const PASSWD_LINES = PASSWD_CONTENT.split('\\n').filter(line => line !== '')\n    const USER_LIST = PASSWD_LINES.map(line => {\n      const user = line.split(':')\n      const [full_name = '', email = '', phone = ''] = user[4].split(',')\n      return {\n        uid: Number(user[2]),\n        name: user[0],\n        full_name,\n        email,\n        phone\n      }\n    })\n    if (filter) {\n      return USER_LIST.filter(user => users.includes(user.name))\n    }\n    return USER_LIST\n  }\n  private loadHash(name: Users.User['name']): string {\n    const SHADOW_CONTENT = fs.readFileSync(this.paths.shadow, 'utf8')\n    const SHADOW_LINES = SHADOW_CONTENT.split('\\n').filter(line => line !== '')\n    const [[_, hash]] = SHADOW_LINES\n      .map(line => line.split(':'))\n      .filter(shadow => shadow[0] === name)\n    return hash\n  }\n  public async createUser(user: Users.New): Promise<void> {\n    const { name, password, full_name = '', email = '', phone = '' } = user\n    console.log(`---------------------------- Create User: ${name} ----------------------------`)\n    const PASSWORD = this.encrypt.createHash(password)\n    await this.run({\n      title: 'Create User',\n      command: '/usr/sbin/useradd',\n      args: ['-p', PASSWORD, '-m', '-G', 'lc', '-s', '/bin/bash', '-c', shellQuote.quote([[full_name, email, phone].join(',')]).replace(/\\\\/g, ''), name]\n    })\n    await this.run({\n      title: 'Set New User In Samba',\n      command: 'smbpasswd',\n      args: ['-a', name],\n      proc(stdin) {\n        stdin.write(`${password}\\n`)\n        stdin.write(`${password}\\n`)\n        stdin.end()\n      }\n    })\n    await this.setConfig(name, {\n      comment: `Directorio de ${name}`,\n      path: `/home/${name}`,\n      browsable: 'yes',\n      writable: 'yes',\n      'guest ok': 'no',\n      'valid users': name,\n      'write list': name,\n      'read only': 'yes'\n    })\n    console.log('------------------------------ End Create User ----------------------------------')\n  }\n  public getUser(name: Users.User['name']): Users.User {\n    const USER_LIST = this.loadUserList(true)\n    const [user] = USER_LIST.filter(user => user.name === name)\n    return user\n  }\n  public getUserByUID(uid: Users.User['uid']): Users.User {\n    const USER_LIST = this.loadUserList(true)\n    const [user] = USER_LIST.filter(user => user.uid === uid)\n    return user\n  }\n  public getUsers(): Users.User[] {\n    const USER_LIST = this.loadUserList(true)\n    return USER_LIST\n  }\n  public verifyPassword(name: Users.User['name'], password: string): boolean {\n    const hash = this.loadHash(name)\n    return this.encrypt.verifyHash(password, hash)\n  }\n  public async updateUser(name: Users.User['name'], user: Omit<Omit<Users.User, 'name'>, 'uid'>): Promise<void> {\n    const { full_name = '', email = '', phone = '' } = user\n    await this.run({\n      title: `Update User ${name}`,\n      command: '/usr/sbin/usermod',\n      args: ['-c', shellQuote.quote([[full_name, email, phone].join(',')]), name]\n    })\n  }\n  public async updatePassword(name: Users.User['name'], password: string): Promise<void> {\n    console.log(`----------------------------Update password: ${name}----------------------------`)\n    const USER_NAME = shellQuote.quote([name])\n    await this.run({\n      title: `Update Password To User ${name}`,\n      command: 'passwd',\n      args: [USER_NAME],\n      proc(stdin) {\n        stdin.write(`${password}\\n`)\n        stdin.write(`${password}\\n`)\n        stdin.end()\n      }\n    })\n    await this.run({\n      title: `Delete ${name} In Samba`,\n      command: 'smbpasswd',\n      args: ['-x', USER_NAME]\n    })\n    await this.run({\n      title: `Set User ${name} In Samba`,\n      command: 'smbpasswd',\n      args: ['-a', USER_NAME],\n      proc(stdin) {\n        stdin.write(`${password}\\n`)\n        stdin.write(`${password}\\n`)\n        stdin.end()\n      }\n    })\n    console.log('----------------------------End update password --------------------------------')\n  }\n  public async deleteUser(name: Users.User['name']) {\n    console.log(`---------------------------- Delete User: ${name} ----------------------------`)\n    const USER_NAME = shellQuote.quote([name])\n    await this.run({\n      title: `Delete User ${name} In Samba`,\n      command: 'smbpasswd',\n      args: ['-x', USER_NAME]\n    })\n    await this.run({\n      title: `Kill proccess Of ${name}`,\n      command: 'pkill',\n      args: ['-u', USER_NAME]\n    })\n    await this.run({\n      title: `Delete User ${name}`,\n      command: '/usr/sbin/userdel',\n      args: ['-r', USER_NAME]\n    })\n    const smbConfig = this.loadConfig()\n    delete smbConfig[name]\n    await this.writeConfig(smbConfig)\n    const items = fs.readdirSync(this.paths.storages)\n    for (const item of items) {\n      const userStorage = path.join(item, name)\n      if (fs.existsSync(userStorage)) {\n        fs.rmSync(userStorage, { recursive: true, force: true })\n      }\n    }\n    console.log('------------------------------ End Delete User ----------------------------------')\n  }\n  public async assignApp(uid: Users.User['uid'], package_name: string): Promise<void> {\n    await new Promise(resolve => this.database.run(\n      'INSERT INTO users_to_apps (uid, package_name) VALUES (?, ?);',\n      [uid, package_name],\n      resolve\n    ))\n  }\n  public async unassignApp(uid: Users.User['uid'], package_name: string): Promise<void> {\n    await new Promise(resolve => this.database.run(\n      'DELETE FROM users_to_apps WHERE uid = ? AND package_name = ?;',\n      [uid, package_name],\n      resolve\n    ))\n  }\n}\n\ninterface Group {\n  id: number\n  name: string\n  users: string[]\n}\ninterface UserConfig {\n  [x: string]: any\n}"],
  "mappings": "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",
  "names": ["path", "fs", "unzipper", "import_node_fs", "import_uuid", "fs", "import_node_fs", "import_node_path", "fs", "stat", "path", "import_node_fs", "import_uuid", "path", "fs", "import_node_fs", "import_node_path", "path", "fs", "import_node_fs", "import_node_path", "fs", "ini", "shellQuote", "user", "path"]
}
